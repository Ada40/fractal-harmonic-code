<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractal Harmonic Code Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ffffff;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00d4ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            text-align: center;
            color: #aaaaff;
            margin-bottom: 30px;
            font-size: 1.2em;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        .tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .tab.active {
            background: linear-gradient(45deg, #00d4ff, #00ff88);
            border-color: transparent;
            font-weight: bold;
        }
        
        .viz-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        canvas {
            width: 100%;
            height: 500px;
            background: radial-gradient(circle at center, rgba(100, 100, 255, 0.1) 0%, transparent 70%);
            border-radius: 10px;
            display: block;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        button {
            padding: 10px 30px;
            background: linear-gradient(45deg, #00d4ff, #00ff88);
            border: none;
            border-radius: 25px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            font-size: 1em;
        }
        
        button:hover {
            transform: scale(1.05);
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .info-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #00d4ff;
        }
        
        .info-card h3 {
            color: #00d4ff;
            margin-bottom: 10px;
        }
        
        .ratio {
            font-size: 2em;
            font-weight: bold;
            color: #00ff88;
            margin: 10px 0;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>The Fractal Harmonic Code</h1>
        <p class="subtitle">Universal Organizing Principles Across All Scales</p>
        
        <div class="tabs">
            <button class="tab active" onclick="changeScale('solar')">Solar Tri-Field</button>
            <button class="tab" onclick="changeScale('planetary')">Planetary Orbits</button>
            <button class="tab" onclick="changeScale('earth')">Earth Atmosphere</button>
            <button class="tab" onclick="changeScale('magnetic')">Earth Magnetic</button>
        </div>
        
        <div class="viz-box">
            <h2 id="systemTitle" style="text-align: center; color: #00d4ff; margin-bottom: 20px;">
                Solar Tri-Field System
            </h2>
            
            <canvas id="canvas"></canvas>
            
            <div class="controls">
                <button onclick="togglePlay()" id="playBtn">▶ Play</button>
                <label style="color: #aaaaff;">Speed:</label>
                <input type="range" min="0.1" max="3" step="0.1" value="1" 
                       onchange="updateSpeed(this.value)" id="speedSlider">
                <span id="speedDisplay" style="color: white;">1.0x</span>
                <button onclick="reset()">Reset</button>
            </div>
            
            <div class="legend" id="legend"></div>
        </div>
        
        <div class="info-grid" id="infoGrid"></div>
        
        <div style="background: rgba(0, 212, 255, 0.1); padding: 30px; border-radius: 15px; border-left: 5px solid #00d4ff; margin-top: 30px;">
            <h3 style="color: #00d4ff; margin-bottom: 15px;">Key Insight</h3>
            <p style="font-size: 1.1em; line-height: 1.8; color: #cccccc;">
                The same integer ratios (1:2:3, 3:2, 5:3) appear consistently across all scales—from 
                solar dynamics to planetary orbits to Earth's atmospheric and magnetic structures. This 
                is evidence of a <strong style="color: #00ff88;">universal organizing principle</strong>: 
                stable systems self-organize into triadic resonance patterns.
            </p>
        </div>
        
        <div style="margin-top: 30px; text-align: center; color: #aaaaaa;">
            <p>The Fractal Harmonic Code © 2025 Adam Lee Hatchett | See <a href="LICENSE.md" style="color: #00d4ff;">LICENSE.md</a> for terms</p>
        </div>
    </div>

    <script>
        const systems = {
            solar: {
                name: "Solar Tri-Field System",
                components: [
                    { name: "Plasma (P)", period: 27, color: "#ff6b6b" },
                    { name: "Gravity (G)", period: 30, color: "#4ecdc4" },
                    { name: "EM Field", period: 150, color: "#ffe66d" }
                ],
                ratio: "1 : 1.11 : 5.56",
                desc: "Three coupled oscillatory fields forming nested triadic structure"
            },
            planetary: {
                name: "Planetary Orbital Harmonics",
                components: [
                    { name: "Mercury", period: 88, color: "#95a5a6" },
                    { name: "Venus", period: 225, color: "#e67e22" },
                    { name: "Earth", period: 365, color: "#3498db" },
                    { name: "Mars", period: 687, color: "#e74c3c" }
                ],
                ratio: "1 : 2.56 : 4.15 : 7.81",
                desc: "Inner planets showing harmonic resonances in orbital periods"
            },
            earth: {
                name: "Earth Atmospheric Pressure Triad",
                components: [
                    { name: "Iceland-Azores", period: 2500, color: "#9b59b6" },
                    { name: "Aleutian-Iceland", period: 5000, color: "#1abc9c" },
                    { name: "Aleutian-Azores", period: 7500, color: "#f39c12" }
                ],
                ratio: "1 : 2 : 3",
                desc: "Perfect integer ratios in atmospheric pressure cell distances (km)"
            },
            magnetic: {
                name: "Earth Magnetic Field Triad",
                components: [
                    { name: "N.Pole-Equator", period: 10000, color: "#e74c3c" },
                    { name: "S.Pole-Equator", period: 10000, color: "#3498db" },
                    { name: "N-S Pole", period: 20000, color: "#9b59b6" }
                ],
                ratio: "1 : 1 : 2",
                desc: "Nested micro-triad structure in magnetic field geometry (km)"
            }
        };

        let currentScale = 'solar';
        let time = 0;
        let speed = 1;
        let isPlaying = false;
        let animationFrame;
        
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = 500;
        }
        
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        function changeScale(scale) {
            currentScale = scale;
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            updateDisplay();
        }

        function updateDisplay() {
            const sys = systems[currentScale];
            document.getElementById('systemTitle').textContent = sys.name;
            
            // Update legend
            const legend = document.getElementById('legend');
            legend.innerHTML = sys.components.map(c => `
                <div class="legend-item">
                    <div class="legend-color" style="background: ${c.color};"></div>
                    <span>${c.name}</span>
                </div>
            `).join('');
            
            // Update info cards
            const infoGrid = document.getElementById('infoGrid');
            infoGrid.innerHTML = `
                <div class="info-card">
                    <h3>Harmonic Ratio</h3>
                    <div class="ratio">${sys.ratio}</div>
                    <p style="color: #cccccc;">${sys.desc}</p>
                </div>
                <div class="info-card">
                    <h3>Components</h3>
                    <div class="ratio">${sys.components.length}</div>
                    <p style="color: #cccccc;">Interacting elements in this system</p>
                </div>
                <div class="info-card">
                    <h3>Organization</h3>
                    <div class="ratio">Triadic</div>
                    <p style="color: #cccccc;">Nested micro-triad and macro-triad structure</p>
                </div>
            `;
        }

        function draw() {
            const w = canvas.width;
            const h = canvas.height;
            const cx = w / 2;
            const cy = h / 2;
            
            // Clear with fade effect
            ctx.fillStyle = 'rgba(26, 26, 46, 0.1)';
            ctx.fillRect(0, 0, w, h);
            
            // Draw center
            ctx.beginPath();
            ctx.arc(cx, cy, 8, 0, Math.PI * 2);
            ctx.fillStyle = '#ffffff';
            ctx.fill();
            
            const sys = systems[currentScale];
            const baseRadius = Math.min(w, h) * 0.15;
            
            sys.components.forEach((comp, i) => {
                const radius = baseRadius + i * 60;
                const angle = (time / comp.period) * Math.PI * 2;
                
                // Draw orbit
                ctx.beginPath();
                ctx.arc(cx, cy, radius, 0, Math.PI * 2);
                ctx.strokeStyle = comp.color + '33';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Draw body
                const x = cx + Math.cos(angle) * radius;
                const y = cy + Math.sin(angle) * radius;
                
                // Glow
                const gradient = ctx.createRadialGradient(x, y, 0, x, y, 15);
                gradient.addColorStop(0, comp.color);
                gradient.addColorStop(1, 'transparent');
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(x, y, 15, 0, Math.PI * 2);
                ctx.fill();
                
                // Body
                ctx.beginPath();
                ctx.arc(x, y, 8, 0, Math.PI * 2);
                ctx.fillStyle = comp.color;
                ctx.fill();
                
                // Label
                ctx.fillStyle = '#ffffff';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(comp.name, x, y - 20);
            });
            
            // Resonance waves
            const maxR = baseRadius + (sys.components.length - 1) * 60 + 50;
            for (let i = 0; i < 3; i++) {
                ctx.beginPath();
                ctx.arc(cx, cy, maxR + i * 20 + Math.sin(time) * 5, 0, Math.PI * 2);
                ctx.strokeStyle = `rgba(0, 212, 255, ${0.3 - i * 0.1})`;
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        }

        function animate() {
            if (isPlaying) {
                time += speed * 0.05;
                draw();
                animationFrame = requestAnimationFrame(animate);
            }
        }

        function togglePlay() {
            isPlaying = !isPlaying;
            document.getElementById('playBtn').textContent = isPlaying ? '⏸ Pause' : '▶ Play';
            if (isPlaying) animate();
        }

        function updateSpeed(val) {
            speed = parseFloat(val);
            document.getElementById('speedDisplay').textContent = speed.toFixed(1) + 'x';
        }

        function reset() {
            time = 0;
            draw();
        }

        // Initial draw
        updateDisplay();
        draw();
    </script>
</body>
</html>